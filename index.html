<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>My Telegram Mini App</title>

  <!-- –≠—Ç–æ ‚Äú–º–æ—Å—Ç–∏–∫‚Äù –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–µ–π –∏ Telegram -->
  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    body { font-family: system-ui, -apple-system, Arial; padding: 18px; }
    .box { background: #f6f6f6; border-radius: 16px; padding: 16px; }
    button { background:#b7ff3b; border:0; border-radius:14px; padding:12px 14px; font-weight:700; width:100%; }
    .muted { color:#666; font-size:14px; margin-top:10px; }
  </style>
</head>
<body>
  <h1>Mini App —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ</h1>

  <div class="box">
    <div id="hello">–ó–∞–≥—Ä—É–∑–∫–∞‚Ä¶</div>
    <div class="muted" id="hint"></div>
    <br/>
    <button id="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–∏–≥–Ω–∞–ª –±–æ—Ç—É</button>
  </div>

  <script>
    const tg = window.Telegram?.WebApp;

    if (!tg) {
      document.getElementById("hello").textContent = "–û—Ç–∫—Ä–æ–π —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –≤–Ω—É—Ç—Ä–∏ Telegram, –∏–Ω–∞—á–µ —Ç—É—Ç –Ω–µ—á–µ–º—É —Ä–∞–±–æ—Ç–∞—Ç—å üôÇ";
      document.getElementById("hint").textContent = "–í –æ–±—ã—á–Ω–æ–º –±—Ä–∞—É–∑–µ—Ä–µ Telegram.WebApp –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω.";
    } else {
      tg.ready();
      tg.expand();

      const user = tg.initDataUnsafe?.user;
      document.getElementById("hello").textContent =
        user ? `–ü—Ä–∏–≤–µ—Ç, ${user.first_name}!` : "–ü—Ä–∏–≤–µ—Ç! (–¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ—Ç)";

      document.getElementById("hint").textContent =
        "–ï—Å–ª–∏ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É, —è –æ—Ç–ø—Ä–∞–≤–ª—é –¥–∞–Ω–Ω—ã–µ –≤ –±–æ—Ç–∞.";

      document.getElementById("btn").onclick = () => {
        tg.sendData(JSON.stringify({ action: "ping", t: Date.now() }));
      };
    }
  </script>
</body>
</html>
